<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h1>Búsqueda Documento JSON</h1>
    <label for="">Seleccione un jugador</label>
    <select name="" id="jugadores"></select>
    <div id="datosjugador"></div>


    <script src="js/jquery-3.7.1.js"></script>
    <script>
        $(document).ready(function(){
            $.getJSON("documents/jugadores.json" , function(data){
                $.each(data.jugadores , function(index , player){
                    var nombre = player.nombre
                    var option = $("<option>" , {"text" : nombre , "value" : index}).appendTo($("#jugadores"))
                })
            })

            $("#jugadores").change(function(){
                console.log("Jugador seleccionado")
                var nombre = $("#jugadores").val()
                $.ajax({
                    url: "documents/jugadores.json",
                    type: "GET",
                    dataType: "json",
                    success: function(data){
                        console.log("Cogiendo datos...")
                        var html = ""
                        var nodo = data.jugadores[$("#jugadores").val()]
                        html += "<li>"
                        html += "Número: " + nodo.numero
                        html += " Nombre: " + nodo.nombre
                        html += " Posicion: " + nodo.posicion
                        html += " Edad: " + nodo.edad
                        html += " <img src='" + nodo.imagen + "'/>"
                        html += "</li>"
                            $("#datosjugador").html(html)
                    }
                })
            })
        })
    </script>
</body>
</html>